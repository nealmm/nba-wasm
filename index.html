<!doctypehtml><html lang=en-US><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1"name=viewport><title>NanoBoyAdvance</title><script src="coi-serviceworker.js"></script><style>html{width:100dvw;height:100dvh}body{display:flex;justify-content:center;align-items:center;margin:0;width:100%;height:100%;background-color:#000}#canvas{aspect-ratio:3/2;background-color:#000}@media (aspect-ratio <= 3/2){#canvas{width:100%;height:auto}}@media (aspect-ratio > 3/2){#canvas{width:auto;height:100%}}.controls{position:absolute;bottom:0;width:160px;height:160px}#left-controls{left:0}#right-controls{right:0}</style></head><body><dialog id=file-dialog><label for=file-input>Select a ROM file:</label><input id=file-input name=file-input type=file><button id=file-submit-button>Play</button></dialog><canvas id=canvas></canvas><div hidden id=controls-container><svg class=controls id=left-controls><circle cx=50% cy=25% fill=lightgray id=up-button r=16 /><circle cx=50% cy=75% fill=lightgray id=down-button r=16 /><circle cx=25% cy=50% fill=lightgray id=left-button r=16 /><circle cx=75% cy=50% fill=lightgray id=right-button r=16 /><circle cx=10% cy=10% fill=lightgray id=l-button r=16 /><circle cx=90% cy=90% fill=lightgray id=select-button r=16 /></svg><svg class=controls id=right-controls><circle cx=68% cy=45% fill=lightgray id=a-button r=16 /><circle cx=32% cy=55% fill=lightgray id=b-button r=16 /><circle cx=90% cy=10% fill=lightgray id=r-button r=16 /><circle cx=10% cy=90% fill=lightgray id=start-button r=16 /></svg></div><script>var Module={canvas:document.getElementById("canvas"),noInitialRun:!0,preRun:[()=>{FS.mkdir("saves"),FS.mount(IDBFS,{},"saves"),FS.syncfs(!0,(()=>{}));const e=document.getElementById("file-dialog"),t=document.getElementById("file-input"),u=document.getElementById("file-submit-button");e.showModal(),u.addEventListener("click",(async()=>{if(1!=t.files.length)alert("Select a ROM file.");else{const u=t.files[0],d=new Uint8Array(await u.arrayBuffer()),o=FS.open(u.name,"w+");FS.write(o,d,0,d.length),FS.close(o),e.close(),Module.callMain([u.name])}}))}],onRuntimeInitialized:function(){if(document.addEventListener("keydown",(e=>{if(!e.repeat)switch(e.code){case"KeyW":case"KeyW":Module.setKeyStatus(Module.Key.Up,!0);break;case"KeyS":Module.setKeyStatus(Module.Key.Down,!0);break;case"KeyA":Module.setKeyStatus(Module.Key.Left,!0);break;case"KeyD":Module.setKeyStatus(Module.Key.Right,!0);break;case"KeyL":Module.setKeyStatus(Module.Key.A,!0);break;case"KeyK":Module.setKeyStatus(Module.Key.B,!0);break;case"ShiftLeft":case"ShiftLeft":Module.setKeyStatus(Module.Key.L,!0);break;case"ShiftRight":Module.setKeyStatus(Module.Key.R,!0);break;case"KeyZ":Module.setKeyStatus(Module.Key.Start,!0);break;case"KeyX":Module.setKeyStatus(Module.Key.Select,!0)}})),document.addEventListener("keyup",(e=>{switch(e.code){case"KeyW":case"KeyW":Module.setKeyStatus(Module.Key.Up,!1);break;case"KeyS":Module.setKeyStatus(Module.Key.Down,!1);break;case"KeyA":Module.setKeyStatus(Module.Key.Left,!1);break;case"KeyD":Module.setKeyStatus(Module.Key.Right,!1);break;case"KeyL":Module.setKeyStatus(Module.Key.A,!1);break;case"KeyK":Module.setKeyStatus(Module.Key.B,!1);break;case"ShiftLeft":case"ShiftLeft":Module.setKeyStatus(Module.Key.L,!1);break;case"ShiftRight":Module.setKeyStatus(Module.Key.R,!1);break;case"KeyZ":Module.setKeyStatus(Module.Key.Start,!1);break;case"KeyX":Module.setKeyStatus(Module.Key.Select,!1)}})),"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch){document.getElementById("controls-container").hidden=!1;const e=document.getElementById("up-button"),t=document.getElementById("down-button"),u=document.getElementById("left-button"),d=document.getElementById("right-button"),o=document.getElementById("start-button"),s=document.getElementById("select-button"),a=document.getElementById("a-button"),n=document.getElementById("b-button"),l=document.getElementById("l-button"),y=document.getElementById("r-button");e.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.Up,!0)})),e.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.Up,!1)})),t.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.Down,!0)})),t.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.Down,!1)})),u.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.Left,!0)})),u.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.Left,!1)})),d.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.Right,!0)})),d.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.Right,!1)})),o.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.Start,!0)})),o.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.Start,!1)})),s.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.Select,!0)})),s.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.Select,!1)})),a.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.A,!0)})),a.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.A,!1)})),n.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.B,!0)})),n.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.B,!1)})),l.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.L,!0)})),l.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.R,!1)})),y.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.R,!0)})),y.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.R,!1)}))}}()}</script><script async src=NanoBoyAdvance.js></script></body></html>