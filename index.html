<!doctypehtml><html lang=en-US><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1"name=viewport><title>NanoBoyAdvance</title><script src="coi-serviceworker.js"></script><style>html{width:100dvw;height:100dvh;-webkit-user-select:none}body{margin:0;width:100%;height:100%;background-color:#000}#display{width:100%;height:100%;display:flex;justify-content:center;align-items:center}#canvas{aspect-ratio:3/2;background-color:#000}@media (aspect-ratio <= 3/2){#canvas{width:100%;height:auto}}@media (aspect-ratio > 3/2){#canvas{width:auto;height:100%}}.controls{width:38mm;height:70mm;position:absolute;bottom:0}#left-controls{left:0}#right-controls{right:0}</style></head><body><dialog id=file-dialog><label for=file-input>Select a ROM file:</label><input id=file-input name=file-input type=file><button id=file-submit-button>Play</button></dialog><div id=display><canvas id=canvas></canvas></div><div id=controls-container hidden><svg class=controls id=left-controls viewBox="0 0 38 70"><rect fill=lightgray height=8 id=l-button rx=2 width=20 x=0 y=0 /><polygon fill=lightgray id=up-button points="16,25 19,22 19,16 13,16 13,22"/><polygon fill=lightgray id=down-button points="16,25 19,28 19,34 13,34 13,28"/><polygon fill=lightgray id=left-button points="16,25 13,28 7,28 7,22 13,22"/><polygon fill=lightgray id=right-button points="16,25 19,22 25,22 25,28 19,28"/><rect fill=lightgray height=3 id=select-button rx=1 width=8 x=29 y=45 /></svg><svg class=controls id=right-controls viewBox="0 0 38 70"><rect fill=lightgray height=8 id=r-button rx=2 width=20 x=18 y=0 /><circle cx=28 cy=23 fill=lightgray id=a-button r=4 /><circle cx=13 cy=28 fill=lightgray id=b-button r=4 /><rect fill=lightgray height=3 id=start-button rx=1 width=8 x=1 y=45 /></svg></div><script>var Module={canvas:document.getElementById("canvas"),noInitialRun:!0,preRun:[()=>{FS.mkdir("saves"),FS.mount(IDBFS,{},"saves"),FS.syncfs(!0,(()=>{}));const e=document.getElementById("file-dialog"),t=document.getElementById("file-input"),d=document.getElementById("file-submit-button");e.showModal(),d.addEventListener("click",(async()=>{if(1!=t.files.length)alert("Select a ROM file.");else{const d=t.files[0],u=new Uint8Array(await d.arrayBuffer()),o=FS.open(d.name,"w+");FS.write(o,u,0,u.length),FS.close(o),e.close(),Module.callMain([d.name])}}))}],onRuntimeInitialized:function(){if(document.addEventListener("keydown",(e=>{if(!e.repeat)switch(e.code){case"KeyW":case"KeyW":Module.setKeyStatus(Module.Key.Up,!0);break;case"KeyS":Module.setKeyStatus(Module.Key.Down,!0);break;case"KeyA":Module.setKeyStatus(Module.Key.Left,!0);break;case"KeyD":Module.setKeyStatus(Module.Key.Right,!0);break;case"KeyL":Module.setKeyStatus(Module.Key.A,!0);break;case"KeyK":Module.setKeyStatus(Module.Key.B,!0);break;case"ShiftLeft":case"ShiftLeft":Module.setKeyStatus(Module.Key.L,!0);break;case"ShiftRight":Module.setKeyStatus(Module.Key.R,!0);break;case"KeyZ":Module.setKeyStatus(Module.Key.Start,!0);break;case"KeyX":Module.setKeyStatus(Module.Key.Select,!0)}})),document.addEventListener("keyup",(e=>{switch(e.code){case"KeyW":case"KeyW":Module.setKeyStatus(Module.Key.Up,!1);break;case"KeyS":Module.setKeyStatus(Module.Key.Down,!1);break;case"KeyA":Module.setKeyStatus(Module.Key.Left,!1);break;case"KeyD":Module.setKeyStatus(Module.Key.Right,!1);break;case"KeyL":Module.setKeyStatus(Module.Key.A,!1);break;case"KeyK":Module.setKeyStatus(Module.Key.B,!1);break;case"ShiftLeft":case"ShiftLeft":Module.setKeyStatus(Module.Key.L,!1);break;case"ShiftRight":Module.setKeyStatus(Module.Key.R,!1);break;case"KeyZ":Module.setKeyStatus(Module.Key.Start,!1);break;case"KeyX":Module.setKeyStatus(Module.Key.Select,!1)}})),"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch){document.getElementById("controls-container").hidden=!1;const e=()=>{document.getElementById("display").style.height="50%"},t=()=>{document.getElementById("display").style.height="100%"},d=window.matchMedia("(orientation: portrait)");d.matches&&e(),d.addEventListener("change",(d=>{d.matches?e():t()}));const u=document.getElementById("up-button"),o=document.getElementById("down-button"),s=document.getElementById("left-button"),a=document.getElementById("right-button"),n=document.getElementById("start-button"),l=document.getElementById("select-button"),y=document.getElementById("a-button"),c=document.getElementById("b-button"),K=document.getElementById("l-button"),M=document.getElementById("r-button");u.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.Up,!0)})),u.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.Up,!1)})),o.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.Down,!0)})),o.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.Down,!1)})),s.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.Left,!0)})),s.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.Left,!1)})),a.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.Right,!0)})),a.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.Right,!1)})),n.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.Start,!0)})),n.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.Start,!1)})),l.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.Select,!0)})),l.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.Select,!1)})),y.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.A,!0)})),y.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.A,!1)})),c.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.B,!0)})),c.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.B,!1)})),K.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.L,!0)})),K.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.R,!1)})),M.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.R,!0)})),M.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.R,!1)}))}}()}</script><script async src=NanoBoyAdvance.js></script></body></html>