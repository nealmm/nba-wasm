<!doctypehtml><html lang=en-US><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1"name=viewport><title>NanoBoyAdvance</title><style>html{width:100vw;height:100vh}body{display:flex;justify-content:center;align-items:center;margin:0;width:100%;height:100%;background-color:#000}#display{aspect-ratio:3/2;background-color:#000}@media (aspect-ratio <= 3/2){#display{width:100%;height:auto}}@media (aspect-ratio > 3/2){#display{width:auto;height:100%}}.controls{position:absolute;bottom:0;width:160px;height:160px}#left-controls{left:0}#right-controls{right:0}</style></head><body><dialog id=file-dialog><label for=file-input>Select a ROM file:</label><input id=file-input name=file-input type=file><button id=file-submit-button>Play</button></dialog><canvas id=display></canvas><div hidden id=controls-container><svg class=controls id=left-controls><circle cx=50% cy=25% fill=lightgray id=up-button r=16 /><circle cx=50% cy=75% fill=lightgray id=down-button r=16 /><circle cx=25% cy=50% fill=lightgray id=left-button r=16 /><circle cx=75% cy=50% fill=lightgray id=right-button r=16 /><circle cx=10% cy=10% fill=lightgray id=l-button r=16 /><circle cx=90% cy=90% fill=lightgray id=select-button r=16 /></svg><svg class=controls id=right-controls><circle cx=68% cy=45% fill=lightgray id=a-button r=16 /><circle cx=32% cy=55% fill=lightgray id=b-button r=16 /><circle cx=90% cy=10% fill=lightgray id=r-button r=16 /><circle cx=10% cy=90% fill=lightgray id=start-button r=16 /></svg></div><script>var Module={canvas:document.getElementById("display"),preRun:[()=>{const e=document.getElementById("file-dialog"),t=document.getElementById("file-input"),d=document.getElementById("file-submit-button");e.showModal(),d.addEventListener("click",(async()=>{if(1!=t.files.length)alert("Select a ROM file.");else{const d=t.files[0],n=new Uint8Array(await d.arrayBuffer()),u=FS.open("game.rom","w+");FS.write(u,n,0,n.length),FS.close(u),e.close(),Module.runNanoBoyAdvance()}}))}],onRuntimeInitialized:function(){if("ontouchstart"in window){console.log("displaying touch controls");document.getElementById("controls-container").hidden=!1;const e=document.getElementById("up-button"),t=document.getElementById("down-button"),d=document.getElementById("left-button"),n=document.getElementById("right-button"),u=document.getElementById("start-button"),o=document.getElementById("select-button"),s=document.getElementById("a-button"),l=document.getElementById("b-button"),a=document.getElementById("l-button"),y=document.getElementById("r-button");e.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.Up,!0)})),e.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.Up,!1)})),t.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.Down,!0)})),t.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.Down,!1)})),d.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.Left,!0)})),d.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.Left,!1)})),n.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.Right,!0)})),n.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.Right,!1)})),u.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.Start,!0)})),u.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.Start,!1)})),o.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.Select,!0)})),o.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.Select,!1)})),s.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.A,!0)})),s.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.A,!1)})),l.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.B,!0)})),l.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.B,!1)})),a.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.L,!0)})),a.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.R,!1)})),y.addEventListener("touchstart",(()=>{Module.setKeyStatus(Module.Key.R,!0)})),y.addEventListener("touchend",(()=>{Module.setKeyStatus(Module.Key.R,!1)}))}}()}</script><script async src=NanoBoyAdvance.js></script></body></html>